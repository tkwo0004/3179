<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Australia Fire Archive Map</title>
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>

  <script type="text/javascript">
    const spec = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": 800,
      "height": 600,
      "projection": {
        "type": "mercator",
        "center": [133.7751, -25.2744],  // 호주 중심 좌표
        "scale": 800  // 축소 비율, 호주만 보이도록 설정
      },
      "layer": [
        {
          // 그리드 추가
          "data": {"graticule": true},
          "mark": {"type": "geoshape", "stroke": "lightgray", "strokeWidth": 1}
        },
        {
          // 호주 외곽선 추가
          "data": {
            "url": "https://vega.github.io/vega-lite/data/world-110m.json",
            "format": {"type": "topojson", "feature": "countries"}
          },
          "transform": [{"filter": "datum.id === 36"}],  // 호주 국가 코드 (ISO 3166-1 numeric code: 36)
          "mark": {"type": "geoshape", "stroke": "black", "fill": "none"}
        },
        {
          // 화재 데이터 점 레이어
          "data": {
            "url": "fire_archive_M6_96619.csv",
            "format": {"type": "csv"}
          },
          "mark": "circle",
          "encoding": {
            "longitude": {"field": "longitude", "type": "quantitative"},
            "latitude": {"field": "latitude", "type": "quantitative"},
            "size": {"field": "brightness", "type": "quantitative"},
            "color": {"field": "confidence", "type": "quantitative"}
          }
        }
      ]
    };

    vegaEmbed('#vis', spec);
  </script>
</body>
</html>


